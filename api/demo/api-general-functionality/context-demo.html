<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Open API Kundenbeziehung Demo Alpha Version 1.0</title>
    <style>
        :root {
            /* OBP Color Scheme */
            --primary: #253165;
            --primary-accent-1: #3b4b96ff;
            --primary-accent-2: #5168ccff;
            --primary-accent-3: #8197faff;
            --secondary: #F85F3D;
            --secondary-accent-1: #f3765aff;
            --secondary-accent-2: #FA9F8A;
            --secondary-accent-3: #f3c9c1ff;
            --tertiary: #0070C0;
            --tertiary-accent-1: #379ee7ff;
            --tertiary-accent-2: #73c3fcff;
            --tertiary-accent-3: #608baaff;
            
            --background: #f9fafb;
            --surface: #ffffff;
            --text: #1e293b;
            --muted-text: #3a4b68ff;
            --remarks: #6b7280;
            --highlighted-text: #3e5f97ff;
            --border: #E5CAFF;
            
            --success: #4cb867ff;
            --warning: #FFC000;
            --info: #B469FF;
            --api-calls: #F85F3D;
            --data-highlight: #FA9F8A;
            --data-highlight-2: #0095ffff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background-color: var(--background);
            background-image: url('../graphics/background/background-graphic-standard.jpg');
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            line-height: 1.6;
            color: var(--text);
        }

        /* Header Section */
        .header {
            width: 100%;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-accent-2) 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('../graphics/background/obp-farbverlauf.jpg');
            background-size: cover;
            opacity: 0.1;
            z-index: 0;
        }

        .header-content {
            position: relative;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
        }

        .header .logo {
            position: absolute;
            top: 20px;
            left: 20px;
            height: 60px;
            z-index: 2;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 15px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
        }

        /* Main Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 30px 20px;
            display: grid;
            grid-template-columns: 85% 15%;
            gap: 30px;
            min-height: 80vh;
        }

        /* Main Column (85%) */
        .main-column {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        /* Reference Process Section */
        .reference-process {
            background: var(--surface);
            border-radius: 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 30px;
            border: 1px solid var(--border);
        }

        .section-title {
            color: var(--primary);
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 25px;
            text-align: center;
        }

        .process-steps {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        .process-step {
            background: var(--surface);
            border: 2px solid var(--border);
            padding: 15px 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease-in-out;
            position: relative;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
        }

        .process-step:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(37, 49, 101, 0.15);
            border-color: var(--primary-accent-2);
        }

        .process-step.active {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-accent-1) 100%);
            color: white;
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(37, 49, 101, 0.25);
        }

        .process-step.completed {
            background: var(--success);
            color: white;
            border-color: var(--success);
        }

        .step-icon {
            width: 32px;
            height: 32px;
            margin-bottom: 8px;
            filter: invert(1);
        }

        .process-step:not(.active) .step-icon {
            filter: invert(0.5);
        }

        .step-title {
            font-size: 0.85rem;
            font-weight: 600;
            line-height: 1.2;
        }

        .step-number {
            position: absolute;
            top: 5px;
            right: 5px;
            background: var(--tertiary);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Consent Flow Section */
        .consent-flow {
            background: var(--surface);
            border-radius: 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 30px;
            border: 1px solid var(--border);
        }

        .flow-diagram {
            position: relative;
            min-height: 400px;
            background: linear-gradient(45deg, #f8fafc 0%, #f1f5f9 100%);
            border: 1px solid var(--border);
            border-radius: 8px;
            overflow: hidden;
        }

        .participants {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: var(--primary);
            color: white;
        }

        .participant {
            text-align: center;
            flex: 1;
            padding: 0 10px;
        }

        .participant-icon {
            width: 30px;
            height: 30px;
            margin: 0 auto 8px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-weight: bold;
        }

        .flow-phases {
            padding: 20px;
        }

        .flow-phase {
            margin-bottom: 25px;
            opacity: 0.3;
            transform: translateX(-20px);
            transition: all 0.5s ease-in-out;
        }

        .flow-phase.active {
            opacity: 1;
            transform: translateX(0);
        }

        .phase-title {
            background: var(--tertiary);
            color: white;
            padding: 8px 15px;
            font-weight: 600;
            margin-bottom: 10px;
            border-radius: 4px;
        }

        .phase-steps {
            display: flex;
            flex-direction: column;
            gap: 8px;
            padding-left: 20px;
        }

        .phase-step {
            background: rgba(116, 199, 252, 0.1);
            padding: 8px 12px;
            border-left: 3px solid var(--tertiary-accent-1);
            font-size: 0.9rem;
        }

        /* Data Onboarding Column (15%) */
        .data-column {
            background: var(--surface);
            border-radius: 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 25px 15px;
            border: 1px solid var(--border);
            height: fit-content;
        }

        .data-section-title {
            color: var(--primary);
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 20px;
            text-align: center;
            border-bottom: 2px solid var(--border);
            padding-bottom: 10px;
        }

        .data-category {
            margin-bottom: 20px;
            opacity: 0.3;
            transform: translateY(10px);
            transition: all 0.5s ease-in-out;
        }

        .data-category.active {
            opacity: 1;
            transform: translateY(0);
        }

        .category-title {
            background: var(--secondary);
            color: white;
            padding: 6px 10px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 8px;
            border-radius: 3px;
        }

        .data-fields {
            padding-left: 10px;
        }

        .data-field {
            font-size: 0.7rem;
            padding: 2px 0;
            color: var(--muted-text);
            border-left: 2px solid var(--data-highlight);
            padding-left: 6px;
            margin-bottom: 3px;
        }

        .data-field.new {
            animation: highlight 1s ease-in-out;
        }

        @keyframes highlight {
            0% { background-color: var(--data-highlight); transform: translateX(5px); }
            100% { background-color: transparent; transform: translateX(0); }
        }

        /* Console Output */
        .console-section {
            width: 100%;
            grid-column: 1 / -1;
            background: var(--text);
            color: var(--surface);
            border-radius: 0;
            padding: 25px;
            font-family: 'Courier New', monospace;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            border: 1px solid var(--border);
            margin-top: 20px;
        }

        .console-title {
            color: var(--data-highlight-2);
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
            text-align: center;
        }

        .console-output {
            background: #0a0e27;
            padding: 20px;
            border-radius: 4px;
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #334155;
        }

        .console-line {
            margin-bottom: 8px;
            padding: 4px 0;
        }

        .console-line.api-call {
            color: var(--api-calls);
            font-weight: bold;
        }

        .console-line.success {
            color: var(--success);
        }

        .console-line.data {
            color: var(--data-highlight-2);
            padding-left: 20px;
        }

        /* Tooltip */
        .tooltip {
            position: relative;
        }

        .tooltip::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: var(--text);
            color: white;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 0.8rem;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease-in-out;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .tooltip:hover::after {
            opacity: 1;
            visibility: visible;
            transform: translateX(-50%) translateY(-5px);
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .container {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .process-steps {
                grid-template-columns: repeat(5, 1fr);
                gap: 8px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px 15px;
            }
            
            .process-steps {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .header h1 {
                font-size: 1.5rem;
            }
            
            .header p {
                font-size: 1rem;
            }
            
            .participants {
                flex-wrap: wrap;
                gap: 10px;
            }
        }

        /* Accessibility */
        .process-step:focus,
        .console-output:focus {
            outline: 3px solid var(--tertiary);
            outline-offset: 2px;
        }

        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
</head>
<body>
    <!-- Header Section -->
    <header class="header">
        <img src="../graphics/logos/logo_obp_hoch_gross.png" alt="Open Banking Project Logo" class="logo">
        <div class="header-content">
            <h1>Open API Kundenbeziehung Demo Alpha Version 1.0</h1>
            <p>Interaktive Visualisierung der Basisimplementation: Referenzprozess, Daten Onboarding und Consent Flow</p>
        </div>
    </header>

    <!-- Main Container -->
    <div class="container">
        <!-- Main Column (85%) -->
        <div class="main-column">
            <!-- Reference Process Section -->
            <section class="reference-process">
                <h2 class="section-title">10-Stufen Referenzprozess</h2>
                <div class="process-steps" id="processSteps">
                    <!-- Steps will be generated by JavaScript -->
                </div>
            </section>

            <!-- Consent Flow Section -->
            <section class="consent-flow">
                <h2 class="section-title">Generischer Consent Flow</h2>
                <div class="flow-diagram">
                    <div class="participants">
                        <div class="participant">
                            <div class="participant-icon">K</div>
                            <div>Customer</div>
                        </div>
                        <div class="participant">
                            <div class="participant-icon">B</div>
                            <div>Bank/Service Provider</div>
                        </div>
                        <div class="participant">
                            <div class="participant-icon">C</div>
                            <div>Consent Management</div>
                        </div>
                        <div class="participant">
                            <div class="participant-icon">D</div>
                            <div>Data Provider</div>
                        </div>
                        <div class="participant">
                            <div class="participant-icon">A</div>
                            <div>Audit & Compliance</div>
                        </div>
                    </div>
                    <div class="flow-phases" id="flowPhases">
                        <!-- Phases will be generated by JavaScript -->
                    </div>
                </div>
            </section>
        </div>

        <!-- Data Column (15%) -->
        <aside class="data-column">
            <h3 class="data-section-title">Data Onboarding Process</h3>
            <div id="dataCategories">
                <!-- Data categories will be generated by JavaScript -->
            </div>
        </aside>

        <!-- Console Output -->
        <section class="console-section">
            <h3 class="console-title">API Console Output</h3>
            <div class="console-output" id="consoleOutput" tabindex="0" role="log" aria-label="API Console Output">
                <div class="console-line">Ready - Open API Kundenbeziehung Demo Alpha Version 1.0</div>
                <div class="console-line">Waiting for user interaction...</div>
            </div>
        </section>
    </div>

    <script>
        // Data Definitions
        const referenceProcessSteps = [
            {
                id: 1,
                title: 'Initialisierung',
                description: 'Information des Kunden und Service Discovery',
                icon: '../graphics/pictograms/Initialisierung.svg'
            },
            {
                id: 2,
                title: 'Produktauswahl',
                description: 'Bedürfnisbefriedigung und Produktkonfiguration',
                icon: '../graphics/pictograms/Produktauswahl.svg'
            },
            {
                id: 3,
                title: 'Selbstdeklaration',
                description: 'FATCA/MIFID Information und Compliance',
                icon: '../graphics/pictograms/Selbstdeklaration.svg'
            },
            {
                id: 4,
                title: 'Basisdaten',
                description: 'Erfassung von Kontaktangaben und Personalien',
                icon: '../graphics/pictograms/Basisdaten.svg'
            },
            {
                id: 5,
                title: 'Erweiterte Daten',
                description: 'Risiko-/Potenzialermittlung und Profiling',
                icon: '../graphics/pictograms/erweiterte Daten.svg'
            },
            {
                id: 6,
                title: 'Identifikation',
                description: 'Identifikation der Vertragspartei',
                icon: '../graphics/pictograms/Identifikation.svg'
            },
            {
                id: 7,
                title: 'Background Checks',
                description: 'Know-Your-Customer (KYC) und Compliance Checks',
                icon: '../graphics/pictograms/Checks.svg'
            },
            {
                id: 8,
                title: 'Vertragsabschluss',
                description: 'Akzeptanz Geschäftsbedingungen und AGB',
                icon: '../graphics/pictograms/Abschluss.svg'
            },
            {
                id: 9,
                title: 'Signatur',
                description: 'Vertragsunterzeichnung und digitale Signatur',
                icon: '../graphics/pictograms/Signatur.svg'
            },
            {
                id: 10,
                title: 'Metadaten/Verteilung',
                description: 'Erfassung, Verarbeitung und Systemintegration',
                icon: '../graphics/pictograms/Verteilung.svg'
            }
        ];

        const consentFlowPhases = [
            {
                id: 1,
                title: 'Phase 1: Consent Request Initiation',
                steps: [
                    'Customer initiiert Service-Anfrage',
                    'Bank prüft bestehende Einverständniserklärungen',
                    'Consent Management erstellt neue Anfrage',
                    'Granulare Consent-Optionen werden präsentiert'
                ]
            },
            {
                id: 2,
                title: 'Phase 2: Consent Granting & Validation',
                steps: [
                    'Customer gewährt spezifische Einverständniserklärungen',
                    'Consent Management validiert Vollständigkeit',
                    'Audit Log dokumentiert Consent-Entscheidung',
                    'Bank erhält Consent Token mit definiertem Scope'
                ]
            },
            {
                id: 3,
                title: 'Phase 3: Data Access & Usage',
                steps: [
                    'Data Provider verifiziert Consent-Gültigkeit',
                    'Datenbereitstellung entsprechend Consent Scope',
                    'Audit Trail dokumentiert Datenzugriff',
                    'Service wird an Customer ausgeliefert'
                ]
            },
            {
                id: 4,
                title: 'Phase 4: Ongoing Consent Management',
                steps: [
                    'Kontinuierliche Consent-Überwachung',
                    'Consent Renewal/Modification Benachrichtigungen',
                    'Customer kann Consent jederzeit widerrufen',
                    'Compliance Monitoring und Audit Updates'
                ]
            }
        ];

        const dataCategories = [
            {
                id: 1,
                title: 'Consent & Metadata (Schritte 1-2)',
                steps: [1, 2],
                fields: [
                    'cookieConsent (Boolean)',
                    'initialConsent (Boolean)',
                    'serviceSelection (Array)',
                    'consentValidUntil (Date)'
                ]
            },
            {
                id: 2,
                title: 'Basic Identity Data (Schritte 3-4)',
                steps: [3, 4],
                fields: [
                    'customerId (String)',
                    'firstName (String)',
                    'lastName (String)',
                    'dateOfBirth (Date)',
                    'emailAddress (String)',
                    'phoneNumber (String)',
                    'streetAddress (String)',
                    'postalCode (String)',
                    'city (String)',
                    'country (String)'
                ]
            },
            {
                id: 3,
                title: 'Self-Declaration & Extended Data (Schritt 5)',
                steps: [5],
                fields: [
                    'fatcaStatus (Object)',
                    'mifidClassification (String)',
                    'riskTolerance (String)',
                    'investmentExperience (Object)',
                    'estimatedIncome (Number)',
                    'employmentStatus (String)',
                    'employer (String)'
                ]
            },
            {
                id: 4,
                title: 'Identification & Verification (Schritte 6-7)',
                steps: [6, 7],
                fields: [
                    'identificationDate (Date)',
                    'identificationMethod (String)',
                    'verificationLevel (String)',
                    'kycStatus (Object)',
                    'pepStatus (Boolean)',
                    'sanctionsCheck (Boolean)'
                ]
            },
            {
                id: 5,
                title: 'Contract & Signature (Schritte 8-9)',
                steps: [8, 9],
                fields: [
                    'contractAcceptance (Boolean)',
                    'termsVersion (String)',
                    'signatureMethod (String)',
                    'signatureTimestamp (Date)',
                    'qualifiedSignature (Boolean)'
                ]
            },
            {
                id: 6,
                title: 'Process Metadata (Schritt 10)',
                steps: [10],
                fields: [
                    'processId (String)',
                    'completionStatus (String)',
                    'documentReferences (Array)',
                    'auditTrail (Array)',
                    'systemIntegrationStatus (Object)'
                ]
            }
        ];

        // Application State
        let currentStep = 1;
        let completedSteps = [];

        // DOM Elements
        const processStepsContainer = document.getElementById('processSteps');
        const flowPhasesContainer = document.getElementById('flowPhases');
        const dataCategoriesContainer = document.getElementById('dataCategories');
        const consoleOutput = document.getElementById('consoleOutput');

        // Initialize Application
        function initialize() {
            renderProcessSteps();
            renderConsentFlowPhases();
            renderDataCategories();
            activateStep(1);
            addConsoleMessage('System initialized. Ready for user interaction.', 'success');
        }

        // Render Reference Process Steps
        function renderProcessSteps() {
            processStepsContainer.innerHTML = referenceProcessSteps.map(step => `
                <div class="process-step tooltip" 
                     id="step-${step.id}"
                     data-tooltip="${step.description}"
                     onclick="activateStep(${step.id})"
                     onkeydown="handleStepKeydown(event, ${step.id})"
                     tabindex="0"
                     role="button"
                     aria-label="Schritt ${step.id}: ${step.title}">
                    <span class="step-number">${step.id}</span>
                    <img src="${step.icon}" alt="${step.title}" class="step-icon" onerror="this.style.display='none'">
                    <div class="step-title">${step.title}</div>
                </div>
            `).join('');
        }

        // Render Consent Flow Phases
        function renderConsentFlowPhases() {
            flowPhasesContainer.innerHTML = consentFlowPhases.map(phase => `
                <div class="flow-phase" id="phase-${phase.id}">
                    <div class="phase-title">${phase.title}</div>
                    <div class="phase-steps">
                        ${phase.steps.map(step => `<div class="phase-step">${step}</div>`).join('')}
                    </div>
                </div>
            `).join('');
        }

        // Render Data Categories
        function renderDataCategories() {
            dataCategoriesContainer.innerHTML = dataCategories.map(category => `
                <div class="data-category" id="data-category-${category.id}">
                    <div class="category-title">${category.title}</div>
                    <div class="data-fields">
                        ${category.fields.map(field => `<div class="data-field">${field}</div>`).join('')}
                    </div>
                </div>
            `).join('');
        }

        // Activate Process Step
        function activateStep(stepId) {
            // Update current step
            currentStep = stepId;
            
            // Update step visual states
            updateStepStates();
            
            // Activate corresponding consent flow phases
            activateConsentPhases(stepId);
            
            // Show relevant data categories
            showDataCategories(stepId);
            
            // Add console output
            const step = referenceProcessSteps.find(s => s.id === stepId);
            addConsoleMessage(`>>> Activated Step ${stepId}: ${step.title}`, 'api-call');
            addConsoleMessage(`GET /api/process/step/${stepId}`, 'api-call');
            addConsoleMessage(`Response: 200 OK - ${step.description}`, 'success');
            
            // Simulate API data
            const dataCategory = dataCategories.find(cat => cat.steps.includes(stepId));
            if (dataCategory) {
                addConsoleMessage(`POST /api/data/onboarding`, 'api-call');
                dataCategory.fields.forEach(field => {
                    addConsoleMessage(`  ${field}: [DATA_COLLECTED]`, 'data');
                });
            }
            
            addConsoleMessage('---', '');
        }

        // Update Step Visual States
        function updateStepStates() {
            referenceProcessSteps.forEach(step => {
                const stepElement = document.getElementById(`step-${step.id}`);
                stepElement.classList.remove('active', 'completed');
                
                if (step.id === currentStep) {
                    stepElement.classList.add('active');
                } else if (step.id < currentStep) {
                    stepElement.classList.add('completed');
                }
            });
        }

        // Activate Consent Flow Phases
        function activateConsentPhases(stepId) {
            const phaseMapping = {
                1: [1], 2: [1],
                3: [2], 4: [2], 5: [2],
                6: [2, 3], 7: [3],
                8: [3, 4], 9: [4], 10: [4]
            };
            
            const activePhases = phaseMapping[stepId] || [];
            
            consentFlowPhases.forEach(phase => {
                const phaseElement = document.getElementById(`phase-${phase.id}`);
                if (activePhases.includes(phase.id)) {
                    setTimeout(() => {
                        phaseElement.classList.add('active');
                    }, 300 * (phase.id - 1));
                } else {
                    phaseElement.classList.remove('active');
                }
            });
        }

        // Show Data Categories
        function showDataCategories(stepId) {
            dataCategories.forEach(category => {
                const categoryElement = document.getElementById(`data-category-${category.id}`);
                const shouldShow = category.steps.some(step => step <= stepId);
                
                if (shouldShow) {
                    setTimeout(() => {
                        categoryElement.classList.add('active');
                        
                        // Add highlight animation to new fields
                        const fields = categoryElement.querySelectorAll('.data-field');
                        fields.forEach((field, index) => {
                            setTimeout(() => {
                                field.classList.add('new');
                            }, index * 100);
                        });
                    }, 500);
                } else {
                    categoryElement.classList.remove('active');
                }
            });
        }

        // Add Console Message
        function addConsoleMessage(message, type = '') {
            const messageElement = document.createElement('div');
            messageElement.className = `console-line ${type}`;
            messageElement.textContent = `${new Date().toLocaleTimeString()} ${message}`;
            
            consoleOutput.appendChild(messageElement);
            consoleOutput.scrollTop = consoleOutput.scrollHeight;
            
            // Keep console output manageable
            const maxLines = 50;
            while (consoleOutput.children.length > maxLines) {
                consoleOutput.removeChild(consoleOutput.firstChild);
            }
        }

        // Keyboard Navigation
        function handleStepKeydown(event, stepId) {
            if (event.key === 'Enter' || event.key === ' ') {
                event.preventDefault();
                activateStep(stepId);
            }
        }

        // Auto-progress demo (optional)
        function startAutoDemo() {
            let step = 1;
            const interval = setInterval(() => {
                if (step <= 10) {
                    activateStep(step);
                    step++;
                } else {
                    clearInterval(interval);
                    addConsoleMessage('Demo completed. Returning to interactive mode.', 'success');
                }
            }, 3000);
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', initialize);
        
        // Add auto-demo button functionality (can be triggered via console)
        window.startAutoDemo = startAutoDemo;
        window.activateStep = activateStep;
        
        // Add welcome message after a short delay
        setTimeout(() => {
            addConsoleMessage('Interactive demo ready. Click on process steps to explore the Open API Kundenbeziehung.', 'info');
            addConsoleMessage('Type "startAutoDemo()" in browser console for automatic demonstration.', 'info');
        }, 1000);
    </script>
</body>
</html>